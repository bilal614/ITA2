CREATE DATABASE ita2;
USE ita2;
/*Create tables and contraints*/
CREATE TABLE itaUsers(
	email	VARCHAR(64) NOT NULL,
	password VARCHAR(16) NOT NULL,
	signupDate DATE NOT NULL,
	username VARCHAR(20) NOT NULL,
	PRIMARY KEY (email)
); 

CREATE TABLE Events(
	eventId INTEGER NOT NULL,
	name	VARCHAR(256) NOT NULL,
	date	DATE NOT NULL,
	location VARCHAR(256),
	description VARCHAR(1028),
	pictureLink VARCHAR(1028),
	PRIMARY KEY(eventId) 	
);

CREATE TABLE Favorite(
	email VARCHAR(64) NOT NULL,
	eventId INTEGER NOT NULL,
	PRIMARY KEY(email,eventId),
CONSTRAINT FK_users FOREIGN KEY(email) REFERENCES itaUsers(email),
CONSTRAINT FK_events FOREIGN KEY(eventId) REFERENCES Events(eventId)
);


INSERT INTO itaUsers(email,password,username,signupDate) VALUES('bilalbutt.614@gmail.com','bilal123','Bilal', STR_TO_DATE('02-01-2015', '%d-%m-%Y'));
INSERT INTO itaUsers(email,password,username,signupDate) VALUES('thanhnk123@gmail.com', 'thanh123','thanhhnk', STR_TO_DATE('15-01-2015', '%d-%m-%Y'));